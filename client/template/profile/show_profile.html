<template name = "showProfile"> 
    <div class="container">
      <!--Alert que muestra que el perfil fue editado con exito-->
      <div class="alert alert-success alert-dismissible" role="alert" id="alertPerfilEditado" style="display: none">
 				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
  			Tu perfil fue actualizado!
			</div>
      
      <!--muestro datos del usuario-->
      <div class="row">{{user.profile.name}}</div>
      <div class="row">{{age}}</div>
      <div class="row">{{place}}</div>
      <br><br>
    {{#if ownProfile}} <!-- si es su propio perfil muestra el boton para que lo edite y sus amigos-->
         
      <button class="btn btn-primary" id="login-buttons-edit-profile">Editar Perfil</button>
      <br><br>
      {{> partido}}
      <br><br>
      <legend>Amigos Facebook</legend>
      {{#if amigosfb}}
      {{#each amigosfb}}
        <a href="{{pathFor 'showProfile' _id=this._id}}">{{this.profile.name}}</a>
      {{/each}} 
      {{else}}
        No tienes amigos de Facebook
      {{/if}}
      <br><br>
      <legend>Amigos Aplicación</legend>
        
        {{#if amigosapp}}
        {{#each amigosapp}}
          <a href="{{pathFor 'showProfile' _id=this._id}}">{{this.profile.name}}</a>         
          {{this.profile.player.position}} <br>
        {{/each}}
        {{else}}
          No tienes amigos de la aplicación
        {{/if}}
      <br><br>
      <h3>Calificaciones</h3>
                {{#if arquero}}

                      <!-- calificaciones comunes a todas las posiciones-->
                       <h3>Puntualidad</h3>
                      {{#if prompuntualidad}}
                        {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Resistencia</h3>
                      {{#if promresistencia}}
                        {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Fair Play</h3>
                      {{#if promfairplay}}
                        {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}                     

                      <h3>Burradas</h3>
                      {{#if promburradas}}
                        {{> starsRating rating=promburradas class="estrella" size='sm'}}
                      {{else}}
                       {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      <!-- Arquero -->
                      <h3>Reflejos</h3>
                      {{#if promreflejos}}
                        {{> starsRating rating=promreflejos class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                       

                      <h3>Atajadas</h3>
                      {{#if promatajadas}}
                        {{> starsRating rating=promatajadas class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      
              {{else}}
                       <!-- calificaciones comunes a todas las posiciones-->
                       <h3>Puntualidad</h3>
                      {{#if prompuntualidad}}
                        {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                      {{else}}
                       {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      
                      <h3>Resistencia</h3>
                      {{#if promresistencia}}
                        {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Fair Play</h3>
                      {{#if promfairplay}}
                        {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}                  

                      <h3>Burradas</h3>
                      {{#if promburradas}}
                        {{> starsRating rating=promburradas class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      <!-- Otras posiciones -->
                      <h3>Pase</h3>
                      {{#if prompase}}
                        {{> starsRating rating=prompase class="estrella" size='sm'}}
                      {{else}}
                       {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Defensa</h3>
                      {{#if promdefensa}}
                        {{> starsRating rating=promdefensa class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Gambeta</h3>
                      {{#if promgambeta}}
                        {{> starsRating rating=promgambeta class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Remate al arco</h3>
                      {{#if promrematearco}}
                        {{> starsRating rating=promrematearco class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Velocidad</h3>
                      {{#if promvelocidad}}
                        {{> starsRating rating=promvelocidad class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

            {{/if}}

    {{else}}  <!-- sino muestra para que se ingresen comentarios sobre ese usuario y lo califiquen-->
        {{#if isFriend}} 
          Ya esta en tu lista de jugadores.
        {{else}}          
          <button type="button" name="addJugadores" id="addJugadores" class="btn btn-default">Agregar a tu lista de Jugadores</button>
        {{/if}} 
      
                 {{#if arquero}}
                    {{#if isOwner}}
                           <h3>Puntualidad</h3>                   
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                    {{else}}
                        <!-- calificaciones comunes a todas las posiciones-->
                           <h3>Puntualidad</h3>
                                               
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                        
                        <h3>Resistencia</h3>
                        {{#if tieneVotoRes}}
                          {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='resistencia' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Fair Play</h3>
                        {{#if tieneVotoFair}}
                          {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='fairplay' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                       
                        <h3>Burradas</h3>
                        {{#if tieneVotoBurr}}
                          {{> starsRating rating=promburradas class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='burradas' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                           <!-- Arquero -->
                        <h3>Reflejos</h3>
                        {{#if tieneVotoRe}}
                          {{> starsRating rating=promreflejos class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='reflejos' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Atajadas</h3>
                        {{#if tieneVotoAt}}
                          {{> starsRating rating=promatajadas class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='atajadas' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                  {{/if}}
                    
                {{else}}
                    {{#if isOwner}}
                         <!-- calificaciones comunes a todas las posiciones-->
                           <h3>Puntualidad</h3>
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                    {{else}}
                        <!-- calificaciones comunes a todas las posiciones-->
                           <h3>Puntualidad</h3>
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                        
                         <h3>Resistencia</h3>
                        {{#if tieneVotoRes}}
                          {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='resistencia' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Fair Play</h3>
                        {{#if tieneVotoFair}}
                          {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='fairplay' class="estrella" mutable=true size='lg'}}
                        {{/if}}                      

                        <h3>Burradas</h3>
                        {{#if tieneVotoBurr}}
                          {{> starsRating rating=promburradas class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='burradas' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                        <!-- Otras posiciones -->
                        <h3>Pase</h3>
                        {{#if tieneVotoPa}}
                          {{> starsRating rating=prompase class="estrella" size='sm'}}
                        {{else}}
                         {{> starsRating id='pase' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Defensa</h3>
                        {{#if tieneVotoDef}}
                          {{> starsRating rating=promdefensa class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='defensa' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Gambeta</h3>
                        {{#if tieneVotoGam}}
                          {{> starsRating rating=promgambeta class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='gambeta' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Remate al arco</h3>
                        {{#if tieneVotoRema}}
                          {{> starsRating rating=promrematearco class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='rematearco' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Velocidad</h3>
                        {{#if tieneVotoVel}}
                          {{> starsRating rating=promvelocidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='velocidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                  {{/if}}
               {{/if}} 
      {{> enterCommentsForPlayers}}
  
  {{/if}}

    <br><br>
    <section id="comentarios">{{> showCommentsPlayers}} <!-- se muestran los comentarios hechos sobre el perfil que se esta viendo--></section>
  </div>
</template>
