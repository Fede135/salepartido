<template name = "showProfile"> 
    <div class="container">
      <!--Alert que muestra que el perfil fue editado con exito-->
      <div class="alert alert-success alert-dismissible" role="alert" id="alertPerfilEditado" style="display: none">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        Tu perfil fue actualizado!
      </div>
      
      <!--muestro datos del usuario-->
      <div class="row">{{user.profile.name}}</div>
      <div class="row">{{age}}</div>
      <div class="row">{{place}}</div>
      <br><br>
    {{#if ownProfile}} <!-- si es su propio perfil muestra el boton para que lo edite y sus amigos-->
         
      <button class="btn btn-primary" id="login-buttons-edit-profile">Editar Perfil</button>
      <br><br>
      <!-- <legend>Partidos a los que estas invitado</legend> -->
      <!-- ############################################################################################## -->
      <row>
        <div><!-- hacer responsive -->
          <table>
            <caption>Partidos a los que estas invitado</caption>
            <thead>
              <tr><!-- Primer fila -->
                <th>Dia</th>
                <th>Hora</th>
                <th>Recinto</th>
                <th>Cancha</th>
              </tr>
            </thead>
            <tbody>
              {{#each partidosInvitado}}
              <tr>
                <td>{{dia}}</td>
                <td>{{hora}}</td>
                <td>{{recinto}}</td>
                <td>{{cancha}}</td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>  
      </row> 
      <br>
      <!-- ##############################################################3 -->
      <row>
        <div><!-- hacer responsive -->
          <table>
            <caption>Partidos pendientes</caption>
            <thead>
              <tr><!-- Primer fila -->
                <th>Dia</th>
                <th>Hora</th>
                <th>Recinto</th>
                <th>Cancha</th>
                <th>Editar</th>
              </tr>
            </thead>
            <tbody>
              {{#each partidosPendientes}}
              <tr>
                <td>{{dia}}</td>
                <td>{{hora}}</td>
                <td>{{recinto}}</td>
                <td>{{cancha}}</td>
                <td> {{#if isHost}}<button type="button" name="modificarReservaPlayer" id="modificarReservaPlayer"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>{{else}}No puedes editar.{{/if}}</td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>  
      </row> 
      <br>
      <!-- ################################################################### -->
      <row>
        <div><!-- hacer responsive -->
          <table>
            <caption>Pertidos jugados</caption>
            <thead>
              <tr><!-- Primer fila -->
                <th>Dia</th>
                <th>Hora</th>
                <th>Recinto</th>
                <th>Cancha</th>
              </tr>
            </thead>
            <tbody>
              {{#each partidosJugados}}
              <tr>
                <td>{{dia}}</td>
                <td>{{hora}}</td>
                <td>{{recinto}}</td>
                <td>{{cancha}}</td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>  
      </row> 
    <!-- ######################################################################################### -->
      <!-- {{> partido}} lo que estaba antes -->
      <br><br>
      {{#if isUserFacebook}}
      <row>
        <legend>Jugadores de Facebook</legend>        
        {{#if amigosfb}}
        <div>    
          <table>        
            <thead>
              <tr>
                <th>Jugador</th>
                <th>Posición</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              {{#each amigosfb}}
              <tr>
                <td> <a href="{{pathFor 'showProfile' _id=this._id}}">{{this.profile.name}}</a> </td>
                <td>{{this.profile.player.position}}</td>
                <td><button type="button" name="eliminarJugador" id="eliminarJugador"> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>      
        {{else}}<!-- if amigosfb -->
            No tienes amigos de Facebook
        {{/if}}<!-- if amigosfb -->
      </row>
      <br><br>
      <!-- ########################################################################################### -->
      <row>
        <legend>Jugadores de la Aplicación</legend>        
        {{#if amigosapp}}
        <div>    
          <table>        
            <thead>
              <tr>
                <th>Jugador</th>
                <th>Posición</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              {{#each amigosapp}}
              <tr>
                <td> <a href="{{pathFor 'showProfile' _id=this._id}}">{{this.profile.name}}</a> </td>
                <td>{{this.profile.player.position}}</td>
                <td><button type="button" name="eliminarJugador" id="eliminarJugador"> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>      
        {{else}}<!-- if amigosapp -->
            No tienes amigos de la aplicación
        {{/if}}<!-- if amigosapp -->
      </row>
      <br><br>    
      <!-- ############################################################################################### -->
      {{else}}<!-- If isUserFacebook -->
      <row>
        <legend>Jugadores de la Aplicación</legend>        
        {{#if amigosapp}}
        <div>    
          <table>        
            <thead>
              <tr>
                <th>Jugador</th>
                <th>Posición</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              {{#each amigosapp}}
              <tr>
                <td> <a href="{{pathFor 'showProfile' _id=this._id}}">{{this.profile.name}}</a> </td>
                <td>{{this.profile.player.position}}</td>
                <td><button type="button" name="eliminarJugador" id="eliminarJugador"> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>      
        {{else}}
            No tienes amigos de la aplicación
        {{/if}}
      </row>
      <br><br>    
      <!-- ################################################################################################### -->
      {{/if}}<!-- If isUserFacebook -->
      <h3>Calificaciones</h3>
                {{#if arquero}}

                      <!-- calificaciones comunes a todas las posiciones-->
                       <h3>Puntualidad</h3>
                      {{#if prompuntualidad}}
                        {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Resistencia</h3>
                      {{#if promresistencia}}
                        {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Fair Play</h3>
                      {{#if promfairplay}}
                        {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}                     

                      <h3>Burradas</h3>
                      {{#if promburradas}}
                        {{> starsRating rating=promburradas class="estrella" size='sm'}}
                      {{else}}
                       {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      <!-- Arquero -->
                      <h3>Reflejos</h3>
                      {{#if promreflejos}}
                        {{> starsRating rating=promreflejos class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                       

                      <h3>Atajadas</h3>
                      {{#if promatajadas}}
                        {{> starsRating rating=promatajadas class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      
              {{else}}
                       <!-- calificaciones comunes a todas las posiciones-->
                       <h3>Puntualidad</h3>
                      {{#if prompuntualidad}}
                        {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                      {{else}}
                       {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      
                      <h3>Resistencia</h3>
                      {{#if promresistencia}}
                        {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Fair Play</h3>
                      {{#if promfairplay}}
                        {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}                  

                      <h3>Burradas</h3>
                      {{#if promburradas}}
                        {{> starsRating rating=promburradas class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}
                      <!-- Otras posiciones -->
                      <h3>Pase</h3>
                      {{#if prompase}}
                        {{> starsRating rating=prompase class="estrella" size='sm'}}
                      {{else}}
                       {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Defensa</h3>
                      {{#if promdefensa}}
                        {{> starsRating rating=promdefensa class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Gambeta</h3>
                      {{#if promgambeta}}
                        {{> starsRating rating=promgambeta class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Remate al arco</h3>
                      {{#if promrematearco}}
                        {{> starsRating rating=promrematearco class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

                      <h3>Velocidad</h3>
                      {{#if promvelocidad}}
                        {{> starsRating rating=promvelocidad class="estrella" size='sm'}}
                      {{else}}
                        {{> starsRating rating=0 size='sm'}}
                      {{/if}}

            {{/if}}

    {{else}}  <!-- sino muestra para que se ingresen comentarios sobre ese usuario y lo califiquen-->
              <!-- Cuando ves otro perfil -->
        {{#if isFriend}} 
          Ya esta en tu lista de jugadores.
        {{else}}          
          <button type="button" name="addJugadores" id="addJugadores" class="btn btn-default">Agregar a tu lista de Jugadores</button>
        {{/if}} 
      
                 {{#if arquero}}
                    {{#if isOwner}}
                           <h3>Puntualidad</h3>                   
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                    {{else}}
                        <!-- calificaciones comunes a todas las posiciones-->
                           <h3>Puntualidad</h3>
                                               
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                        
                        <h3>Resistencia</h3>
                        {{#if tieneVotoRes}}
                          {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='resistencia' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Fair Play</h3>
                        {{#if tieneVotoFair}}
                          {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='fairplay' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                       
                        <h3>Burradas</h3>
                        {{#if tieneVotoBurr}}
                          {{> starsRating rating=promburradas class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='burradas' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                           <!-- Arquero -->
                        <h3>Reflejos</h3>
                        {{#if tieneVotoRe}}
                          {{> starsRating rating=promreflejos class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='reflejos' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Atajadas</h3>
                        {{#if tieneVotoAt}}
                          {{> starsRating rating=promatajadas class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='atajadas' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                  {{/if}}
                    
                {{else}}
                    {{#if isOwner}}
                         <!-- calificaciones comunes a todas las posiciones-->
                           <h3>Puntualidad</h3>
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                    {{else}}
                        <!-- calificaciones comunes a todas las posiciones-->
                           <h3>Puntualidad</h3>
                        {{#if tieneVotoPunt}}
                          {{> starsRating rating=prompuntualidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='puntualidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                        
                         <h3>Resistencia</h3>
                        {{#if tieneVotoRes}}
                          {{> starsRating rating=promresistencia class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='resistencia' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Fair Play</h3>
                        {{#if tieneVotoFair}}
                          {{> starsRating rating=promfairplay class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='fairplay' class="estrella" mutable=true size='lg'}}
                        {{/if}}                      

                        <h3>Burradas</h3>
                        {{#if tieneVotoBurr}}
                          {{> starsRating rating=promburradas class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='burradas' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                        <!-- Otras posiciones -->
                        <h3>Pase</h3>
                        {{#if tieneVotoPa}}
                          {{> starsRating rating=prompase class="estrella" size='sm'}}
                        {{else}}
                         {{> starsRating id='pase' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Defensa</h3>
                        {{#if tieneVotoDef}}
                          {{> starsRating rating=promdefensa class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='defensa' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Gambeta</h3>
                        {{#if tieneVotoGam}}
                          {{> starsRating rating=promgambeta class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='gambeta' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Remate al arco</h3>
                        {{#if tieneVotoRema}}
                          {{> starsRating rating=promrematearco class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='rematearco' class="estrella" mutable=true size='lg'}}
                        {{/if}}

                        <h3>Velocidad</h3>
                        {{#if tieneVotoVel}}
                          {{> starsRating rating=promvelocidad class="estrella" size='sm'}}
                        {{else}}
                          {{> starsRating id='velocidad' class="estrella" mutable=true size='lg'}}
                        {{/if}}
                  {{/if}}
               {{/if}} 
      {{> enterCommentsForPlayers}}
  
  {{/if}}

    <br><br>
    <section id="comentarios">{{> showCommentsPlayers}} <!-- se muestran los comentarios hechos sobre el perfil que se esta viendo--></section>
  </div>
</template>