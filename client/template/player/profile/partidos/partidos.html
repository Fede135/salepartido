<template name="partidos">
    <div class="container-fluid">
        <!--Modal de para mostrar que editar, dependiendo de el rol-->
        <div id="redirigirPartidosModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Ir a... </h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <button id="modificarHorario" type="button" class="btn btn-propio" data-dismiss="modal" style="max-width: 49%;">Modificar reserva</button>
                            <button id="jugarPartido" type="button" class="btn btn-propio" data-dismiss="modal" style="max-width: 49%;">Confirmar Partido</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <legend><h2 align="center">Tus partidos</h2></legend>
        <div class="row">
            <div class="col-md-4 col-lg-4">
                {{#if partidosInvitado}}
                    <div class="table-responsive">
                        <table class="table table-striped" name="tabla">
                            <caption>Partidos a los que estas invitado</caption>
                            <thead> 
                                <tr><!-- Primer fila -->
                                    <th>Dia</th>
                                    <th>Hora</th>
                                    <th>Recinto</th>
                                    <th>Cancha</th>
                                    {{#if isHost}}
                                        <th>Editar</th>
                                    {{else}}
                                        {{#if isInvitado}}
                                            <th>Ir</th>
                                        {{/if}}
                                    {{/if}}      
                                </tr>
                            </thead>
                            <tbody>
                                {{#each partidosInvitado}}
                                    <tr>
                                        <td>{{dia}}</td>
                                        <td>{{hora}}</td>
                                        <td>{{recinto}}</td>
                                        <td>{{cancha}}</td>
                                        <td> 
                                            {{#if isHost}}
                                                <span id="lanzaIdPartido" class="glyphicon glyphicon-wrench" aria-hidden="true" data-toggle="modal" data-target="#redirigirPartidosModal"></span>
                                            {{else}}
                                                {{#if isInvitado}}
                                                    <span id="confirmarPartido" class="glyphicon glyphicon-menu-right close" aria-hidden="true"></span>
                                                {{/if}}  
                                            {{/if}}
                                        </td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                {{else}}
                    <h4>No te han invitado a ningún partido.</h4>
                {{/if}}
            </div>
            <div class="col-md-4 col-lg-4">
                {{#if partidosPendientes}}
                    <div class="table-responsive">
                        <table class="table table-striped" name="tabla">
                            <caption>Partidos por jugar</caption>
                            <thead>
                                <tr><!-- Primer fila -->
                                    <th>Dia</th>
                                    <th>Hora</th>
                                    <th>Recinto</th>
                                    <th>Cancha</th>
                                    <th>
                                      {{#if isHost}}
                                          Editar
                                      {{else}}
                                          {{#if isInvitado}}
                                              Ir
                                          {{/if}}
                                      {{/if}}
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each partidosPendientes}}
                                    <tr>
                                        <td>{{dia}}</td>
                                        <td>{{hora}}</td>
                                        <td>{{recinto}}</td>
                                        <td>{{cancha}}</td>
                                        <td> 
                                          {{#if isHost}}
                                              <span id="lanzaIdPartido" class="glyphicon glyphicon-wrench" aria-hidden="true" data-toggle="modal" data-target="#redirigirPartidosModal"></span>
                                          {{else}}
                                              {{#if isConfirmado}}
                                                  <span id="confirmarPartido" class="glyphicon glyphicon-menu-right close" aria-hidden="true"></span>
                                              {{/if}}  
                                          {{/if}}
                                        </td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                {{else}}
                    <h4>No tenes partidos pendientes</h4>
                {{/if}}
            </div>
            <div class="col-md-4 col-lg-4">
                {{#if partidosJugados}}
                    <div class="table-responsive">
                        <table class="table table-striped" name="tabla">
                            <caption>Partidos jugados</caption>
                            <thead>
                                <tr>
                                    <th>Dia</th>
                                    <th>Hora</th>
                                    <th>Recinto</th>
                                    <th>Cancha</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each partidosJugados}}
                                    <tr>
                                        <td>{{dia}}</td>
                                        <td>{{hora}}</td>
                                        <td>{{recinto}}</td>
                                        <td>{{cancha}}</td>
                                        <td><span id="confirmarPartido" class="glyphicon glyphicon-menu-right close" aria-hidden="true"></span></td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                {{else}}
                    <h4>No has jugado ningún partido</h4>
                {{/if}}
            </div>
        </div>
    </div>
</template>